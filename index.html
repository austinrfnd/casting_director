<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casting Director C:&gt;</title>
    <!-- Import the VT323 pixel font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --dos-bg: #000080; /* Classic Blue */
            --dos-window-bg: #0000AA;
            --dos-text: #FFFFFF;
            --dos-header: #00FFFF; /* Cyan */
            --dos-border: #C0C0C0; /* Light Gray */
            --dos-error: #FF0000; /* Bright Red */
        }

        body {
            background-color: var(--dos-bg);
            color: var(--dos-text);
            font-family: 'VT323', monospace;
            font-size: 20px;
            margin: 0;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 95%;
            max-width: 800px;
            border: 2px outset var(--dos-border);
            background-color: var(--dos-window-bg);
            padding: 15px;
            box-shadow: 5px 5px 0px 0px rgba(0,0,0,0.5);
        }

        header {
            background-color: var(--dos-bg);
            border: 2px solid var(--dos-border);
            padding: 5px 10px;
            text-align: center;
            font-size: 24px;
            color: var(--dos-header);
            margin-bottom: 15px;
            text-transform: uppercase;
            /* Adjust height for two lines */
            line-height: 1.3;
        }
        
        #user-id-display {
            font-size: 16px;
            color: var(--dos-text);
            font-weight: normal;
        }

        /* --- Screen Management --- */
        .screen {
            display: none;
        }
        .screen.active {
            display: block;
        }

        /* --- DOS-style Form Elements --- */
        fieldset {
            border: 2px inset var(--dos-border);
            padding: 15px;
            margin-bottom: 15px;
        }
        legend {
            background: var(--dos-window-bg);
            padding: 0 8px;
            color: var(--dos-header);
            font-size: 22px;
        }

        label {
            display: inline-block;
            min-width: 100px;
        }

        input[type="text"] {
            font-family: 'VT323', monospace;
            font-size: 18px;
            background-color: var(--dos-bg);
            border: 2px inset var(--dos-border);
            color: var(--dos-text);
            padding: 5px;
            width: calc(100% - 120px);
        }

        button {
            font-family: 'VT323', monospace;
            font-size: 20px;
            background: var(--dos-border);
            border: 2px outset var(--dos-border);
            color: #000000;
            padding: 5px 15px;
            cursor: pointer;
            text-transform: uppercase;
        }
        button:active {
            border-style: inset;
        }
        button:disabled {
            background: #808080;
            color: #A0A0A0;
            border-style: inset;
            cursor: not-allowed;
        }

        .button-bar {
            text-align: center;
            margin-top: 20px;
        }
        
        .checkbox-container {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }
        
        .checkbox-container input {
            width: 20px;
            height: 20px;
            margin-right: 10px;
        }

        /* --- Character & Result Styles --- */
        .character-card {
            border: 1px solid var(--dos-border);
            padding: 10px;
            margin-bottom: 10px;
            background-color: var(--dos-bg);
        }
        
        .character-card h4 {
            color: var(--dos-header);
            margin: 0 0 5px 0;
            font-size: 22px;
        }
        
        .character-card p {
            margin: 0 0 10px 0;
        }

        .casting-input-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .casting-input-group input[type="text"] {
            width: 250px;
        }
        
        .cast-info {
            color: var(--dos-header);
            font-size: 22px;
        }

        .recast-button {
            background: var(--dos-error);
            color: var(--dos-text);
            border: 2px outset var(--dos-border);
            font-size: 16px; /* Smaller */
            padding: 0 5px;
            margin-left: 10px;
            text-transform: uppercase;
        }
        .recast-button:active {
            border-style: inset;
        }

        .budget-display {
            font-size: 22px;
            margin-bottom: 10px;
        }
        .budget-over {
            color: var(--dos-error);
            font-weight: bold;
        }

        ul {
            list-style-type: none;
            padding-left: 0;
        }
        li {
            padding: 3px 0;
        }
        
        /* --- Recent Movies List --- */
        #recent-movies-list {
            height: 150px;
            overflow-y: auto;
            background: var(--dos-bg);
            border: 2px inset var(--dos-border);
            padding: 10px;
        }
        
        #recent-movies-list li {
            font-size: 18px;
            padding: 5px;
            border-bottom: 1px solid var(--dos-border);
        }
         #recent-movies-list li:hover {
            background: var(--dos-window-bg);
            cursor: pointer;
         }
        
         #recent-movies-list li strong {
            color: var(--dos-header);
         }


        /* --- Loading Overlay --- */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            color: var(--dos-text);
            font-size: 24px;
            text-align: center;
            padding-top: 20%;
            z-index: 1000;
        }

        .loading-overlay p {
            font-size: 30px;
        }

        .blinking-cursor {
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            50% { opacity: 0; }
        }
        
        /* --- Custom Modal --- */
        .dos-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            border: 2px outset var(--dos-border);
            background-color: var(--dos-window-bg);
            padding: 15px;
            box-shadow: 5px 5px 0px 0px rgba(0,0,0,0.5);
            z-index: 2000;
        }
        .dos-modal-header {
            background-color: var(--dos-bg);
            padding: 5px;
            text-align: center;
            color: var(--dos-error);
            font-size: 22px;
            margin-bottom: 15px;
        }
        .dos-modal-content {
            margin-bottom: 20px;
            text-align: left; /* Changed for details */
            max-height: 300px;
            overflow-y: auto;
            background: var(--dos-bg);
            padding: 10px;
            border: 1px inset var(--dos-border);
        }
        .dos-modal-footer {
            text-align: center;
        }

        /* --- Welcome Screen --- */
        .welcome-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            color: var(--dos-text);
            z-index: 3000;
            overflow-y: auto;
            font-family: 'VT323', monospace;
        }

        .welcome-screen.active {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            animation: fadeIn 1s ease-in;
            padding-top: 20px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .welcome-content {
            max-width: 900px;
            width: 90%;
            padding: 20px;
            text-align: center;
        }

        .ascii-art {
            color: var(--dos-header);
            font-size: 11px;
            line-height: 1.2;
            margin: 0 auto 20px auto;
            text-align: center;
            overflow-x: auto;
        }

        .welcome-text {
            text-align: left;
            background: var(--dos-bg);
            border: 2px solid var(--dos-border);
            padding: 20px;
            margin: 20px 0;
            font-size: 22px;
            line-height: 1.6;
            animation: slideInFromBottom 0.8s ease-out 0.5s both;
        }

        @keyframes slideInFromBottom {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .welcome-date {
            color: var(--dos-header);
            font-size: 20px;
            margin: 5px 0;
        }

        .welcome-intro {
            font-size: 28px;
            color: var(--dos-header);
            font-weight: bold;
            margin: 10px 0;
        }

        .welcome-mission {
            font-size: 22px;
            margin: 10px 0;
        }

        .welcome-stakes {
            font-size: 22px;
            margin: 5px 0;
        }

        .welcome-challenge {
            font-size: 22px;
            color: var(--dos-header);
            margin: 10px 0;
        }

        .highlight {
            color: #FFFF00;
            font-weight: bold;
        }

        .highlight-green {
            color: #00FF00;
            font-weight: bold;
        }

        .welcome-footer {
            animation: slideInFromBottom 0.8s ease-out 1.3s both;
        }

        .boot-button {
            font-size: 32px;
            padding: 15px 40px;
            background: var(--dos-header);
            color: #000000;
            border: 4px outset var(--dos-border);
            cursor: pointer;
            margin: 20px 0;
            font-weight: bold;
            animation: pulse 2s infinite 2s;
        }

        .boot-button:hover {
            background: #FFFF00;
            transform: scale(1.05);
        }

        .boot-button:active {
            border-style: inset;
            transform: scale(0.98);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .welcome-hint {
            font-size: 18px;
            color: var(--dos-border);
            margin: 10px 0;
        }

        .typed-text {
            display: inline-block;
            border-right: 3px solid var(--dos-header);
            padding-right: 5px;
            animation: blink-caret 0.75s step-end infinite;
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: var(--dos-header); }
        }

        /* --- Screen 1.5: Incoming Offer --- */
        .incoming-offer-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
            padding: 20px;
            cursor: pointer;
        }

        .incoming-offer-image {
            max-width: 100%;
            height: auto;
            border: 2px solid var(--dos-border);
            box-shadow: 5px 5px 0px 0px rgba(0,0,0,0.5);
            transition: transform 0.1s ease;
        }

        #screen1_5:hover .incoming-offer-image {
            transform: scale(1.02);
        }

    </style>
</head>
<body>

    <div class="container">
        <header>
            Casting Director C:&gt; [Ver 2.0_FB] <br>
            <span id="user-id-display">Director ID: CONNECTING...</span>
        </header>

        <!-- ========= SCREEN 1: BOOK ENTRY ========= -->
        <div id="screen1" class="screen active">
            <fieldset>
                <legend>NEW PROJECT</legend>
                <p>Please enter project details to begin...</p>
                
                <div>
                    <label for="book-name">Book:</label>
                    <input type="text" id="book-name" placeholder="Loading...">
                </div>
                <br>
                <div>
                    <label for="author-name">Author:</label>
                    <input type="text" id="author-name" placeholder="Loading...">
                </div>
                
                <div class="button-bar">
                    <button id="submit-book">LOAD PROJECT</button>
                </div>
            </fieldset>
            
            <fieldset>
                <legend>RECENTLY CAST MOVIES</legend>
                <ul id="recent-movies-list">
                    <li>Loading recent movies...</li>
                </ul>
                <div class="button-bar">
                    <button id="refresh-movies">REFRESH</button>
                </div>
            </fieldset>
        </div>

        <!-- ========= SCREEN 1.5: INCOMING OFFER ========= -->
        <div id="screen1_5" class="screen">
            <div class="incoming-offer-container">
                <img src="images/offer_accepted.png" alt="Incoming Offer" class="incoming-offer-image">
            </div>
        </div>

        <!-- ========= SCREEN 2: BUDGET REVEAL ========= -->
        <div id="screen2" class="screen">
            <fieldset>
                <legend>STUDIO MEMO</legend>
                <p>PROJECT: <span id="project-title" class="cast-info"></span></p>
                <p>RE: Budget Allocation</p>
                
                <div class="budget-display">
                    Movie Budget: <span id="movie-budget" class="cast-info"></span>
                </div>
                <div class="budget-display">
                    Casting Budget: <span id="casting-budget" class="cast-info"></span>
                </div>
                
                <hr>
                
                <p id="budget-reason"></p>
                
                <div class="button-bar">
                    <button id="go-to-casting">GET TO CASTING</button>
                    <button id="back-to-main">MAIN MENU</button>
                </div>
            </fieldset>
        </div>

        <!-- ========= SCREEN 3: CASTING ========= -->
        <div id="screen3" class="screen">
            <fieldset>
                <legend>CASTING DECK</legend>
                <div class="budget-display">
                    Total Casting Budget: <span id="total-casting-budget" class="cast-info"></span>
                </div>
                <div class="budget-display">
                    Spent: <span id="spent-casting-budget" class="cast-info"></span>
                </div>
            </fieldset>

            <div id="character-list">
                <!-- Character cards will be injected here -->
            </div>
            
            <div class="button-bar">
                <button id="make-movie">MAKE THE MOVIE!</button>
                <button id="back-to-main-from-cast">MAIN MENU</button>
            </div>
        </div>

        <!-- ========= SCREEN 4: RESULTS ========= -->
        <div id="screen4" class="screen">
            <fieldset>
                <legend>BOX OFFICE RESULTS</legend>

                <p>PROJECT: <span id="final-project-title" class="cast-info"></span></p>

                <div class="budget-display">
                    Final Budget: <span id="final-budget" class="cast-info"></span>
                </div>
                <div class="budget-display">
                    Box Office: <span id="final-box-office" class="cast-info"></span>
                </div>

                <h4>Awards:</h4>
                <ul id="final-awards">
                    <!-- Awards li elements will be injected here -->
                </ul>

                <hr>
                <h4>What Happened:</h4>
                <p id="final-summary"></p>

                <div class="button-bar">
                    <button onclick="location.reload()">NEW PROJECT</button>
                </div>
            </fieldset>
        </div>

        <!-- ========= SCREEN 5: MOVIE DETAILS ========= -->
        <div id="screen5" class="screen">
            <fieldset>
                <legend>MOVIE DETAILS</legend>

                <p><strong>PROJECT:</strong> <span id="detail-project-title" class="cast-info"></span></p>
                <p><strong>DIRECTOR:</strong> <span id="detail-director" class="cast-info"></span></p>

                <hr>
                <h4>Budget Information:</h4>
                <div class="budget-display">
                    Movie Budget: <span id="detail-movie-budget" class="cast-info"></span>
                </div>
                <div class="budget-display">
                    Box Office: <span id="detail-box-office" class="cast-info"></span>
                </div>

                <hr>
                <h4>Cast & Fees:</h4>
                <div id="detail-cast-list"></div>

                <hr>
                <h4>Awards:</h4>
                <ul id="detail-awards">
                    <!-- Awards li elements will be injected here -->
                </ul>

                <hr>
                <h4>What Happened:</h4>
                <p id="detail-summary"></p>

                <div class="button-bar">
                    <button id="back-to-main-from-details">BACK TO MAIN</button>
                </div>
            </fieldset>
        </div>
    </div>

    <!-- ========= WELCOME SCREEN ========= -->
    <div id="welcome-screen" class="welcome-screen">
        <div class="welcome-content">
            <div class="welcome-header">
                <pre class="ascii-art">
╔═══════════════════════════════════════════════════════════════╗
║                                                               ║
║   ██████╗ █████╗ ███████╗████████╗██╗███╗   ██╗ ██████╗     ║
║  ██╔════╝██╔══██╗██╔════╝╚══██╔══╝██║████╗  ██║██╔════╝     ║
║  ██║     ███████║███████╗   ██║   ██║██╔██╗ ██║██║  ███╗    ║
║  ██║     ██╔══██║╚════██║   ██║   ██║██║╚██╗██║██║   ██║    ║
║  ╚██████╗██║  ██║███████║   ██║   ██║██║ ╚████║╚██████╔╝    ║
║   ╚═════╝╚═╝  ╚═╝╚══════╝   ╚═╝   ╚═╝╚═╝  ╚═══╝ ╚═════╝     ║
║                                                               ║
║          ██████╗ ██╗██████╗ ███████╗ ██████╗████████╗ ██████╗ ██████╗     ║
║          ██╔══██╗██║██╔══██╗██╔════╝██╔════╝╚══██╔══╝██╔═══██╗██╔══██╗    ║
║          ██║  ██║██║██████╔╝█████╗  ██║        ██║   ██║   ██║██████╔╝    ║
║          ██║  ██║██║██╔══██╗██╔══╝  ██║        ██║   ██║   ██║██╔══██╗    ║
║          ██████╔╝██║██║  ██║███████╗╚██████╗   ██║   ╚██████╔╝██║  ██║    ║
║          ╚═════╝ ╚═╝╚═╝  ╚═╝╚══════╝ ╚═════╝   ╚═╝    ╚═════╝ ╚═╝  ╚═╝    ║
║                                                               ║
╚═══════════════════════════════════════════════════════════════╝
                </pre>
            </div>

            <div class="welcome-text">
                <p class="welcome-date">C:\HOLLYWOOD\STUDIO&gt; DATE</p>
                <p class="welcome-date">SYSTEM DATE: January 15, 1995</p>
                <br>
                <p class="welcome-intro">
                    <span class="typed-text">Welcome, Director.</span>
                </p>
                <br>
                <p class="welcome-mission">
                    You've just been appointed as a <span class="highlight">CASTING DIRECTOR</span> at
                    a scrappy Hollywood studio. Your mission? Turn bestselling books into
                    <span class="highlight">BLOCKBUSTER GOLD</span>.
                </p>
                <br>
                <p class="welcome-stakes">
                    Your choices matter. Pick the RIGHT stars and you'll be swimming in
                    <span class="highlight-green">Oscars</span> and
                    <span class="highlight-green">box office millions</span>.
                </p>
                <p class="welcome-stakes">
                    Pick wrong? Well... we hear they're hiring for infomercials.
                </p>
                <br>
                <p class="welcome-challenge">
                    The studio database is online. Your desk is waiting.
                    <br>Time to make movie magic.
                </p>
            </div>

            <div class="welcome-footer">
                <button id="boot-system" class="boot-button">
                    &gt;&gt; BOOT SYSTEM &lt;&lt;
                </button>
                <p class="welcome-hint">Press ENTER or click to begin</p>
            </div>
        </div>
    </div>

    <!-- ========= LOADING OVERLAY ========= -->
    <div id="loading-overlay" class="loading-overlay">
        <p>C:\&gt; ACCESSING STUDIO DATABASE...<span class="blinking-cursor">_</span></p>
    </div>
    
    <!-- ========= CUSTOM MODAL ========= -->
    <div id="dos-modal" class="dos-modal">
        <div id="dos-modal-header" class="dos-modal-header">! WARNING !</div>
        <div id="dos-modal-content" class="dos-modal-content"></div>
        <div class="dos-modal-footer">
            <button id="dos-modal-ok">OK</button>
        </div>
    </div>


    <!-- Main Application Script -->
    <script type="module" src="app.js"></script>
</body>
</html>